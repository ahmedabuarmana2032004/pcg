{% extends "layout.html" %}

{% block title %}Spaces{% endblock %}

{% block body %}
<h1 class="fade-in" id="title-section">Ø§Ù„Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©</h1>

<div class="filter-container">
    <form method="GET" action="/spaces" class="filter-form">
        <div class="filter-group">
            <select name="city" class="filter-select">
                <option disabled selected>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                {% for c in cities %}
                    <option value="{{ c['city'] }}" {% if request.args.get('city') == c['city'] %}selected{% endif %}>{{ c['city'] }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="filter-button">Ø¨Ø­Ø«</button>
    </form>

    <!-- Show result count -->
    <div class="results-count-box">
        {% if result_count > 0 %}
            <span class="results-icon">ğŸ“Š</span>
            <span class="results-text">Ø¹Ø¯Ø¯ Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø¹Ù…Ù„: {{ result_count }}</span>
        {% else %}
            <span class="results-text no-results">Ù„Ø§ ØªÙˆØ¬Ø¯ /Ø³Ø§Ø­Ø§Øª Ø¹Ù…Ù„ Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</span>
        {% endif %}
    </div>
</div>

<div class="spaces-grid">
    {% for space in spaces %}
    <div class="space-card" data-aos="flip-left" data-aos-delay="{{ loop.index * 100 }}">
            <img src="{{ url_for('static', filename='/spaces/' + space.image) }}" alt="Image of {{ space.english_name }}" class="space-image">
            <h2 class="space_english_name">{{ space.english_name }}</h2>
            <p><strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©: </strong> {{ space.city }}</p>
            <p><strong>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: </strong> {{ space.address }}</p>
            <p><strong>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: </strong> {{ space.start_working }} - {{ space.end_working }}</p>
            {% if space.price_per_hour %}
                {% if space.price_per_hour == 0 %}
                    <p>
                    <strong>Ø§Ù„Ø³Ø¹Ø±/Ø³Ø§Ø¹Ø©:</strong>
                    <span class="badge-free">Ù…Ø¬Ø§Ù†Ø§Ù‹</span>
                    </p>
                {% else %}
                    <p>
                        <strong>Ø§Ù„Ø³Ø¹Ø±/Ø³Ø§Ø¹Ø©:</strong> {{ space.price_per_hour }} Ø´ÙŠÙƒÙ„
                    </p>
                {% endif %}
            {% endif %}

            <p><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: </strong> 0{{ space.phone_number }}</p>


            <!-- <p class="social-media"><strong>Ù„Ù„ØªÙˆØ§ØµÙ„: </strong> <a href="{{ space.social_media_account }}" target="_blank"> Ø§Ø¶ØºØ· Ù‡Ù†Ø§ </a> </p> -->
            <div class="social-links">
                <strong>Ù„Ù„ØªÙˆØ§ØµÙ„ : </strong>
                    {% if space['facebook_account'] %}
                    <a href="{{ space['facebook_account'] }}" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    {% endif %}
                    {% if space['whatsapp_account'] %}
                    <a href="{{ space['whatsapp_account'] }}" target="_blank"><i class="fab fa-whatsapp"></i></a>
                    {% endif %}
                    {% if space['instagram_account'] %}
                    <a href="{{ space['instagram_account'] }}" target="_blank"><i class="fab fa-instagram"></i></a>
                    {% endif %}
                    {% if space['telegram_account'] %}
                    <a href="{{ space['telegram_account'] }}" target="_blank"><i class="fab fa-telegram-plane"></i></a>
                    {% endif %}
            </div>
            
            <p><strong>Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª: </strong> {{ space.features }}</p>
        </div>
    {% endfor %}
</div>
{% endblock %}